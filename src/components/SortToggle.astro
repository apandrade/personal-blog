---
import { t } from 'i18next';

interface Props {
  currentOrder: 'desc' | 'asc';
}

const { currentOrder } = Astro.props;
const newOrder = currentOrder === 'desc' ? 'asc' : 'desc';
---

<div class="sort-toggle">
  <form method="get" class="sort-form">
    <input type="hidden" name="sort" value={newOrder} />
    <button type="submit" class="sort-button">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        {currentOrder === 'desc' ? (
          <>
            <path d="M12 5v14"></path>
            <path d="m19 12-7 7-7-7"></path>
          </>
        ) : (
          <>
            <path d="M12 19V5"></path>
            <path d="m5 12 7-7 7 7"></path>
          </>
        )}
      </svg>
      <span>{currentOrder === 'desc' ? t('common:newestFirst') : t('common:oldestFirst')}</span>
    </button>
  </form>
</div>

<style>
  .sort-toggle {
    display: flex;
    align-items: center;
  }

  .sort-form {
    display: flex;
  }

  .sort-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: #fff;
    border: 1px solid #e6e6e6;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.95rem;
    color: #333;
    transition: all 0.2s;
  }

  .sort-button:hover {
    background: #f5f5f5;
    border-color: #000;
  }

  .sort-button svg {
    width: 18px;
    height: 18px;
  }
</style>
